# Power BI Dashboard

This folder contains the Power BI dashboard for the project **Product Analytics — Funnel + Cohorts (Nov 2019)**.

## Files
- `product_analytics_dashboard.pbix` (optional) — full report file (may be gitignored)
- `product_analytics_dashboard.pbit` (optional) — template version (recommended for Git)
- `data_model_notes.md` — quick notes on relationships & visuals (optional)

## Data sources
The report is built from Parquet outputs generated by DuckDB SQL scripts:
- `cohort_retention_curve.parquet`
- `cohort_retention_summary.parquet`
- `daily_event_counts.parquet`
- `agg_category_funnel.parquet`
- `agg_brand_revenue.parquet`
- `fct_session_funnel.parquet`
- dimensions: `dim_category.parquet`, `dim_date.parquet`, etc.

Recommended local structure:
- `data/exports/` (ignored in Git)

## How to refresh
1. Run DuckDB pipeline to regenerate Parquet exports:
   - `01_load_raw.sql` → `06_driver_analysis.sql`
2. In Power BI Desktop:
   - Home → **Transform data** (confirm folder path if needed)
   - Home → **Refresh**
3. Validate visuals using `docs/qa_checks.md`.

## Key model relationships (expected)
- `agg_category_funnel[category_id]` → `dim_category[category_id]` (many-to-one)
- `daily_event_counts[event_date]` → `dim_date[event_date]`
- `cohort_retention_curve[days_since]` → `Days[Day]`

Cross filter direction should generally be **Single** (dimension → fact/agg).

## Pages
1. Executive Overview
2. Retention & Cohorts
3. Revenue Drivers — Categories & Brands
4. Trends & Diagnostics
